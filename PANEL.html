
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Solar Puno</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>â˜€ï¸ Simulador Solar Puno</h1>
            <p style="font-size: 1.2em; margin-top: 10px;">ğŸ“ Puno, PerÃº | ğŸŒ -15.84Â°, -70.02Â° | â›°ï¸ 3,827 msnm</p>
        </div>

        <div class="grid">
            <!-- Panel Izquierdo: EstadÃ­sticas -->
            <div>
                <div class="stat-box">
                    <div class="label">POA Actual</div>
                    <div class="value" id="poaValue">--</div>
                    <div class="label">W/mÂ²</div>
                </div>
                <div class="stat-box" style="background: linear-gradient(135deg, #11998e, #38ef7d);">
                    <div class="label">EnergÃ­a Diaria</div>
                    <div class="value" id="dailyValue">--</div>
                    <div class="label">kWh/mÂ²</div>
                </div>
                <div class="stat-box" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                    <div class="label">EnergÃ­a Anual</div>
                    <div class="value" id="annualValue">--</div>
                    <div class="label">kWh/mÂ²</div>
                </div>
                <div class="stat-box" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                    <div class="label">Factor Coseno</div>
                    <div class="value" id="cosineValue">--</div>
                    <div class="label">cos(Î¸)</div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <h2>ğŸ“ Datos de Puno</h2>
                    <div class="info-text">
                        <strong>Altitud:</strong> 3,827 m<br>
                        <strong>GHI Promedio:</strong> 6.2 kWh/mÂ²/dÃ­a<br>
                        <strong>DÃ­as despejados:</strong> ~280/aÃ±o<br>
                        <strong>Temp. media:</strong> 8-10Â°C
                    </div>
                </div>
            </div>

            <!-- Panel Central: VisualizaciÃ³n -->
            <div class="card">
                <h2>ğŸ¯ VisualizaciÃ³n Interactiva</h2>
                <canvas id="canvas"></canvas>
                <div class="info-text">
                    <strong>ğŸ’¡ Controles:</strong> Arrastra el <strong>panel</strong> o el <strong>sol</strong> â€¢ 
                    Usa <strong>flechas â†‘â†“â†â†’</strong> â€¢ <strong>Espacio</strong>: animar â€¢ 
                    <strong>Doble clic</strong>: reset
                </div>
                <div class="chart" id="dailyChart"></div>
            </div>

            <!-- Panel Derecho: Controles -->
            <div class="card">
                <h2>ğŸ® Controles</h2>
                
                <div class="slider-group">
                    <label>ğŸ“… DÃ­a del AÃ±o: <span id="dayText">172</span></label>
                    <input type="range" id="daySlider" min="1" max="365" value="172">
                    <div class="value-display" id="monthText">Jun</div>
                </div>

                <div class="slider-group">
                    <label>ğŸ• Hora: <span id="hourText">12:00</span></label>
                    <input type="range" id="hourSlider" min="6" max="18" value="12" step="0.25">
                </div>

                <div class="slider-group">
                    <label>ğŸ”§ InclinaciÃ³n (Î²): <span id="tiltText">15Â°</span></label>
                    <input type="range" id="tiltSlider" min="0" max="90" value="15">
                </div>

                <div class="slider-group">
                    <label>ğŸ§­ Azimuth (Î³): <span id="azimuthText">0Â°</span></label>
                    <input type="range" id="azimuthSlider" min="0" max="360" value="0" step="5">
                </div>

                <div class="slider-group">
                    <label>â˜€ï¸ GHI: <span id="ghiText">240 W/mÂ²</span></label>
                    <input type="range" id="ghiSlider" min="100" max="350" value="240" step="5">
                </div>

                <button class="btn-primary" onclick="animateDay()" id="animBtn">â–¶ï¸ Animar DÃ­a</button>
                <button class="btn-success" onclick="optimize()">ğŸ¯ Optimizar Tilt</button>
                <button class="btn-info" onclick="reset()">ğŸ”„ Reiniciar</button>
                <button class="btn-warning" onclick="showHelp()">â“ Ayuda</button>

                <div class="chart" id="annualChart"></div>
            </div>
        </div>
    </div>
</body>
</html>
